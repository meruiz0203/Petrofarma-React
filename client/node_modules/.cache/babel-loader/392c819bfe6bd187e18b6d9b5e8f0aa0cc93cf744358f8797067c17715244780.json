{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[products,setProducts]=useState([]);const[editingProduct,setEditingProduct]=useState(null);const[formData,setFormData]=useState({name:'',price:'',description:''});useEffect(()=>{fetch('/api/products').then(response=>{if(!response.ok){throw new Error('Network response was not ok');}return response.json();}).then(data=>setProducts(data)).catch(error=>console.error('Error fetching products:',error));},[]);const handleDelete=id=>{fetch(\"/api/products/\".concat(id),{method:'DELETE'}).then(response=>{if(!response.ok){throw new Error('Network response was not ok');}setProducts(products.filter(product=>product.id!==id));}).catch(error=>console.error('Error deleting product:',error));};const handleEdit=product=>{setEditingProduct(product);setFormData({name:product.name,price:product.price,description:product.description});};const handleUpdate=()=>{fetch(\"/api/products/\".concat(editingProduct.id),{method:'PUT',headers:{'Content-Type':'application/json'},body:JSON.stringify(formData)}).then(response=>{if(!response.ok){throw new Error('Network response was not ok');}return response.json();}).then(updatedProduct=>{setProducts(products.map(product=>product.id===updatedProduct.id?updatedProduct:product));setEditingProduct(null);setFormData({name:'',price:'',description:''});}).catch(error=>console.error('Error updating product:',error));};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Productossssss\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,placeholder:\"Nombre\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price\",value:formData.price,onChange:handleChange,placeholder:\"Precio\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"description\",value:formData.description,onChange:handleChange,placeholder:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:editingProduct?'Actualizar':'Agregar'})]}),/*#__PURE__*/_jsx(\"ul\",{children:products.map(product=>/*#__PURE__*/_jsxs(\"li\",{children:[product.name,\" - $\",product.price,/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(product),children:\"Editar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(product.id),children:\"Eliminar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleUpdate(product.id),children:\"Mofificar Completo\"})]},product.id))})]});}export default App;","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","App","products","setProducts","editingProduct","setEditingProduct","formData","setFormData","name","price","description","fetch","then","response","ok","Error","json","data","catch","error","console","handleDelete","id","concat","method","filter","product","handleEdit","handleUpdate","headers","body","JSON","stringify","updatedProduct","map","className","children","onSubmit","handleSubmit","type","value","onChange","handleChange","placeholder","required","onClick"],"sources":["C:/Users/eugeniaruiz/Desktop/INFORMATICA/Petrofarma-React/client/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\n\nfunction App() {\n  const [products, setProducts] = useState([]);\n  const [editingProduct, setEditingProduct] = useState(null);\n  const [formData, setFormData] = useState({ name: '', price: '', description: '' });\n\n  useEffect(() => {\n    fetch('/api/products')\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        return response.json();\n      })\n      .then(data => setProducts(data))\n      .catch(error => console.error('Error fetching products:', error));\n  }, []);\n\n  const handleDelete = (id) => {\n    fetch(`/api/products/${id}`, { method: 'DELETE' })\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        setProducts(products.filter(product => product.id !== id));\n      })\n      .catch(error => console.error('Error deleting product:', error));\n  };\n\n  const handleEdit = (product) => {\n    setEditingProduct(product);\n    setFormData({ name: product.name, price: product.price, description: product.description });\n  };\n\n  const handleUpdate = () => {\n    fetch(`/api/products/${editingProduct.id}`, {\n      method: 'PUT',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(formData)\n    })\n      .then(response => {\n        if (!response.ok) {\n          throw new Error('Network response was not ok');\n        }\n        return response.json();\n      })\n      .then(updatedProduct => {\n        setProducts(products.map(product => (product.id === updatedProduct.id ? updatedProduct : product)));\n        setEditingProduct(null);\n        setFormData({ name: '', price: '', description: '' });\n      })\n      .catch(error => console.error('Error updating product:', error));\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Productossssss</h1>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"name\"\n          value={formData.name}\n          onChange={handleChange}\n          placeholder=\"Nombre\"\n          required\n        />\n        <input\n          type=\"number\"\n          name=\"price\"\n          value={formData.price}\n          onChange={handleChange}\n          placeholder=\"Precio\"\n          required\n        />\n        <input\n          type=\"text\"\n          name=\"description\"\n          value={formData.description}\n          onChange={handleChange}\n          placeholder=\"DescripciÃ³n\"\n        />\n        <button type=\"submit\">{editingProduct ? 'Actualizar' : 'Agregar'}</button>\n      </form>\n      <ul>\n        {products.map(product => (\n          <li key={product.id}>\n            {product.name} - ${product.price}\n            <button onClick={() => handleEdit(product)}>Editar</button>\n            <button onClick={() => handleDelete(product.id)}>Eliminar</button>\n            <button onClick={() => handleUpdate(product.id)}>Mofificar Completo</button>\n\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}